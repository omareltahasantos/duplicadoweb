(this.webpackJsonpsmemtmanagement=this.webpackJsonpsmemtmanagement||[]).push([[0],{187:function(e,t){},332:function(e,t){},333:function(e,t){},353:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(418),s=a(0),n=a.n(s),i=a(73),o=a.n(i),d=a(18),l=a(34),j=a(424),b=a(367),u=a(55),h=function(){return Object(r.jsx)(u.a,{styles:"\n    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,500;0,600;0,700;0,800;0,900;1,500;1,600;1,700;1,800;1,900&family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');\n      "})},x=Object(b.a)({fonts:{heading:"'Montserrat', sans-serif;",body:"'Work Sans', sans-serif;"},styles:{global:{body:{bg:"white",color:"gray.700"},a:{color:"gray.700",_hover:{textDecoration:"none"}},h1:{color:"gray.900"},h2:{color:"gray.900"},h5:{color:"gray.900"}}},colors:{brand:{100:"#F6FDD6",200:"#ECFBAE",300:"#DAF383",400:"#C5E762",500:"#8BB925",600:"#8BB925",700:"#6E9B19",800:"#547D10",900:"#416709"},border:{100:"#eaeaea"}}}),O=a(62),p=a.n(O),m=a(5),f=a(86),g=a(3),v=a(146),y=(a(219),a(354),v.a.initializeApp({apiKey:"AIzaSyDCtJnEDUmFIATqpzaYA7b5cscCuT4SBhc",authDomain:"smemtmanagement.firebaseapp.com",projectId:"smemtmanagement",storageBucket:"smemtmanagement.appspot.com",messagingSenderId:"533146488109",appId:"1:533146488109:web:bb4e9b9dc521db19d857a4"})),D=v.a.initializeApp({apiKey:"AIzaSyDCtJnEDUmFIATqpzaYA7b5cscCuT4SBhc",authDomain:"smemtmanagement.firebaseapp.com",projectId:"smemtmanagement",storageBucket:"smemtmanagement.appspot.com",messagingSenderId:"533146488109",appId:"1:533146488109:web:bb4e9b9dc521db19d857a4"},"createUserApp"),S=y.firestore(),C={projects:S.collection("projects"),hours:S.collection("hours"),users:S.collection("users"),notices:S.collection("notices")},w=y.auth(),E=D.auth(),I=n.a.createContext();function N(){return Object(s.useContext)(I)}var A=function(e){var t=e.children,a=Object(s.useState)(),c=Object(g.a)(a,2),n=c[0],i=c[1],o=Object(s.useState)(null),d=Object(g.a)(o,2),l=d[0],j=d[1],b=Object(s.useState)(!0),u=Object(g.a)(b,2),h=u[0],x=u[1];function O(){return(O=Object(f.a)(p.a.mark((function e(t,a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.signInWithEmailAndPassword(t,a);case 2:return r=e.sent,j(null),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return w.signOut()}Object(s.useEffect)((function(){return w.onAuthStateChanged((function(e){e?C.users.doc(e.uid).get().then((function(e){if(e.exists){var t=Object(m.a)({uid:e.id},e.data());t.isActive?(i(t),j(!0),x(!1)):v().then((function(e){j(!1),i(null),x(!1)})).catch((function(e){console.log(e)}))}else v().then((function(e){j(!1),i(null),x(!1)})).catch((function(e){console.log(e)}))})).catch((function(e){v().then((function(e){j(!1),i(null),x(!1)})).catch((function(e){console.log(e)}))})):(j(!1),i(null),x(!1))}))}),[]);var y={currentUser:n,isLoggedIn:l,login:function(e,t){return O.apply(this,arguments)},signup:function(e,t){return E.createUserWithEmailAndPassword(e,t)},logout:v};return Object(r.jsx)(I.Provider,{value:y,children:!h&&t})},z=a(199),F=a(147),L=a.n(F);function H(e){var t=e.component,a=e.roles,c=Object(z.a)(e,["component","roles"]),s=N(),n=s.currentUser,i=s.isLoggedIn;return Object(r.jsx)(l.b,Object(m.a)(Object(m.a)({},c),{},{render:function(e){return null===i?null:!1===i?Object(r.jsx)(l.a,{to:"/login"}):!0===i&&L()(a,n.role)?Object(r.jsx)(t,Object(m.a)({},e)):!0!==i||L()(a,n.role)?null:Object(r.jsx)(l.a,{to:"/"})}}))}var P=function(){var e=N().currentUser;return Object(r.jsxs)(r.Fragment,{children:["admin"===e.role&&Object(r.jsx)(l.a,{to:"/home"}),"tecnico"===e.role&&Object(r.jsx)(l.a,{to:"/projects"})]})},R=a(379),W=a(378),k=a(381),M=a(384),T=a(377),q=a(382),B=a(368),U=a(369),G=a(370),V=a(425),Y=a(371),X=a(200),J=a(419),_=a(375),Z=a(376),K=a.p+"static/media/sm-logo-h-responsive.4d9b24c2.png",$=a.p+"static/media/sm-logo-h.26cda2b5.png",Q=function(e){var t=e.children,a=e.isHeader,c=e.justifyContent,s=Object(B.a)(["(min-width: 48em)","(display-mode: browser)"]),n=Object(g.a)(s,1)[0],i=N().logout,o=Object(l.g)();function d(){return j.apply(this,arguments)}function j(){return(j=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:o.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("failed logout.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(U.a,{maxW:"full",p:"0",children:Object(r.jsxs)(G.a,{minH:"100vh",p:"0",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[a&&Object(r.jsx)(G.a,{justifyContent:"center",alignItems:"center",w:"full",h:"64px",borderTopWidth:6,borderBottomWidth:1,borderBottomColor:"border.100",borderTopColor:"brand.500",children:Object(r.jsxs)(G.a,{as:"nav",alignItems:"center",w:"full",maxW:1280,p:"0px 35px",children:[Object(r.jsx)(G.a,{alignItems:"center",children:n?Object(r.jsx)(V.a,{src:$,alt:"SM logo",boxSize:"64px",w:200,objectFit:"contain"}):Object(r.jsx)(V.a,{src:K,alt:"SM logo",boxSize:"64px",objectFit:"contain"})}),Object(r.jsx)(Y.a,{}),n?Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"md",colorScheme:"red",size:"md",onClick:d,children:"Cerrar sesi\xf3n"}):Object(r.jsxs)(J.a,{children:[Object(r.jsx)(J.b,{as:_.a,"aria-label":"Options",icon:Object(r.jsx)(Z.a,{}),size:"md",variant:"outline"}),Object(r.jsx)(J.d,{children:Object(r.jsx)(J.c,{onClick:d,children:"Cerrar sesi\xf3n"})})]})]})}),Object(r.jsx)(G.a,{as:"main",flex:1,flexDirection:"column",justifyContent:c,alignItems:"center",padding:"3rem 0",maxW:1280,w:"full",children:t}),Object(r.jsx)(G.a,{as:"footer",justifyContent:"center",alignItems:"center",w:"full",h:"100px",borderTopWidth:1,borderColor:"border.100",children:Object(r.jsxs)(G.a,{as:"a",justifyContent:"center",alignItems:"center",href:"https://www.sistemasmedioambientales.com/",target:"_blank",rel:"noopener noreferrer",children:["Copyright \xa9 2021",Object(r.jsx)(T.a,{ml:"4px",children:Object(r.jsx)(V.a,{src:K,alt:"SM logo",boxSize:"70px",objectFit:"contain"})})]})})]})})})},ee=a(380),te=function(e){var t=e.title,a=e.description,c=e.to;return Object(r.jsx)(W.a,{as:d.b,to:c,style:{textDecoration:"none"},children:Object(r.jsxs)(T.a,{p:"6",cursor:"pointer",m:"4",borderWidth:"1px",borderRadius:"xl",_hover:{color:"brand.600",borderColor:"brand.600"},children:[Object(r.jsxs)(R.a,{as:"h3",size:"lg",mb:"2",children:[t,Object(r.jsx)(ee.a,{w:6,h:6,textAlign:"right",ml:1})]}),Object(r.jsx)(k.a,{fontSize:"md",children:a})]})})},ae=a(383),re=function(e){var t=e.name,a=e.date,c=e.hours;return Object(r.jsx)(q.c,{children:Object(r.jsxs)(G.a,{flexDirection:"row",alignItems:"center",children:[Object(r.jsx)(q.b,{as:ae.a,color:"red.500"}),Object(r.jsx)(k.a,{mr:"6px",fontWeight:700,color:"gray.500",children:"".concat(a," -")}),Object(r.jsx)(k.a,{mr:"6px",fontWeight:700,children:t}),Object(r.jsx)(k.a,{mr:"6px",children:"Superadas h. contratadas:"}),Object(r.jsxs)(k.a,{fontWeight:700,children:[c,"h"]})]})})},ce=a(7),se=a.n(ce);a(39);se.a.locale("es");var ne=function(){var e=Object(s.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)((function(){return C.notices.where("date",">=",se()().startOf("month").toDate()).where("date","<=",se()().endOf("month").toDate()).orderBy("date","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,contractHours:e.data().contractHours,date:se()(e.data().date.toDate()).format("L"),hours:e.data().hours,userName:e.data().userName}}));c(t)}))}),[]),Object(r.jsxs)(Q,{justifyContent:"center",isHeader:!0,children:[Object(r.jsxs)(R.a,{as:"h1",size:"3xl",textAlign:"center",mb:10,children:["\xa1Bienvenido a",Object(r.jsx)(W.a,{pl:"20px",color:"brand.500",cursor:"pointer",href:"https://www.sistemasmedioambientales.com/",isExternal:!0,children:"SM!"})]}),Object(r.jsx)(k.a,{fontSize:"2xl",mb:10,color:"gray.500",textAlign:"center",children:"Elige una de las opciones:"}),Object(r.jsxs)(M.a,{justify:"center",children:[Object(r.jsx)(M.b,{children:Object(r.jsx)(te,{title:"Campa\xf1as",description:"A\xf1ade las campa\xf1as necesarias para tus proyectos.",to:"/projectlist"})}),Object(r.jsx)(M.b,{children:Object(r.jsx)(te,{title:"Horas",description:"A\xf1ade las campa\xf1as necesarias para tus proyectos.",to:"/hourList"})}),Object(r.jsx)(M.b,{children:Object(r.jsx)(te,{title:"Usuarios",description:"A\xf1ade las campa\xf1as necesarias para tus proyectos.",to:"/users"})}),Object(r.jsx)(M.b,{children:Object(r.jsx)(te,{title:"Estadisticas",description:"A\xf1ade las campa\xf1as necesarias para tus proyectos.",to:"/stats"})})]}),Object(r.jsxs)(T.a,{minH:"200px",mt:"80px",children:[Object(r.jsx)(R.a,{as:"h3",display:"block",size:"sm",textAlign:"center",mb:5,children:"Notificaciones"}),Object(r.jsx)(T.a,{maxH:"170px",overflowX:"auto",pl:"40px",pr:"40px",children:Object(r.jsx)(q.a,{spacing:3,children:a.map((function(e,t){return Object(r.jsx)(re,{name:e.userName,date:e.date,hours:e.hours},t)}))})})]})]})},ie=a.p+"static/media/logo-sm-login.ec686af4.png",oe=a(72),de=a(385),le=a(386),je=a(387),be=a(388),ue=a(389),he=a(426),xe=a(392),Oe=a(390),pe=a(391),me=a(13),fe=a(17),ge=fe.d({email:fe.e().email("El email no es v\xe1lido").required("Por favor escribe tu email"),password:fe.e().required("Por favor escribe la contrase\xf1a")}).required(),ve=function(){var e=Object(s.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),i=Object(g.a)(n,2),o=i[0],d=i[1],j=function(){return c(!a)},b=N().login,u=Object(l.g)();function h(){return(h=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(t.email,t.password);case 3:u.push("/"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed login."),d(!0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(me.c,{initialValues:{email:"",password:""},validationSchema:ge,onSubmit:function(e,t){var a=t.setSubmitting;!function(e){h.apply(this,arguments)}(e),a(!1)},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsx)(me.a,{name:"email",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.email&&a.touched.email,children:[Object(r.jsx)(de.a,{htmlFor:"email",children:"EMAIL"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"someone@example.com",type:"email",id:"email"})),Object(r.jsx)(je.a,{children:a.errors.email})]})}}),Object(r.jsx)(me.a,{name:"password",children:function(e){var t=e.field,c=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:c.errors.password&&c.touched.password,children:[Object(r.jsx)(de.a,{htmlFor:"password",children:"CONTRASE\xd1A"}),Object(r.jsxs)(be.a,{size:"md",children:[Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"contrase\xf1asegura1234",type:a?"text":"password",id:"password",autoComplete:"off"})),Object(r.jsx)(ue.b,{width:"4.5rem",children:Object(r.jsx)(X.a,{h:"1.75rem",size:"sm",onClick:j,children:a?Object(r.jsx)(Oe.a,{}):Object(r.jsx)(pe.a,{})})})]}),c.errors.password?Object(r.jsx)(je.a,{children:c.errors.password}):Object(r.jsx)(oe.b,{children:"Nunca comparta su contrase\xf1a."})]})}}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Entrando",type:"submit",children:"Iniciar sesi\xf3n"})]})}}),o&&Object(r.jsxs)(he.a,{status:"error",mt:"30px",children:[Object(r.jsx)(he.c,{}),Object(r.jsxs)(T.a,{flex:"1",children:[Object(r.jsx)(he.d,{children:"Error!"}),Object(r.jsx)(he.b,{display:"block",children:"No se ha podido acceder. Revise sus permisos para iniciar sesi\xf3n."})]}),Object(r.jsx)(xe.a,{position:"absolute",right:"8px",top:"8px",onClick:function(){return d(!1)}})]})]})},ye=function(){var e=N().isLoggedIn,t=Object(l.g)();return Object(s.useEffect)((function(){e&&t.push("/")}),[t,e]),Object(r.jsx)(U.a,{maxW:"full",p:"0",children:Object(r.jsxs)(G.a,{minH:"100vh",padding:"4rem 0.5rem",flexDirection:"column",alignItems:"center",borderTopWidth:6,borderColor:"brand.500",children:[Object(r.jsx)(V.a,{src:ie,alt:"Picture of the author",boxSize:"130px",objectFit:"contain"}),Object(r.jsxs)(T.a,{maxW:"500px",w:"full",p:"45px 1.5rem 20px 1.5rem",children:[Object(r.jsx)(R.a,{as:"h2",fontSize:"24px",textAlign:"center",children:"\xa1Bienvenido de vuelta!"}),Object(r.jsx)(k.a,{as:"h5",textAlign:"center",p:"25px",mb:"15px",children:"Iniciar sesi\xf3n"}),Object(r.jsx)(ve,{})]})]})})},De=a(422),Se=a(399),Ce=a(420),we=a(427),Ee=a(393),Ie=function(e){var t=e.route,a=e.text;return Object(r.jsx)(we.a,{direction:"row",spacing:4,children:Object(r.jsx)(W.a,{as:d.b,to:t,style:{textDecoration:"none"},children:Object(r.jsx)(X.a,{leftIcon:Object(r.jsx)(Ee.a,{w:3,h:3}),colorScheme:"brand",variant:"solid",mb:"30px",children:a})})})},Ne=a(395),Ae=a(394),ze=a(396),Fe=a(397),Le=function(e){var t=e.state,a=e.projectName,c=e.type,s=e.hours,n=e.date,i=e.id,o=e.onHandlerOpen;return Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(T.a,{float:"right",children:Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"xs",icon:Object(r.jsx)(Ae.a,{}),onClick:function(){return function(e){o(e)}(i)}})}),"validado"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k.a,{as:"span",color:"brand.700",children:Object(r.jsx)(Ne.a,{variant:"solid",colorScheme:"brand",children:"VALIDADO"})}),Object(r.jsxs)(T.a,{borderLeftWidth:3,borderLeftColor:"brand.500",mt:4,mb:4,pl:2,children:[Object(r.jsxs)(R.a,{as:"h4",size:"sm",children:[s," horas"]}),Object(r.jsx)(k.a,{fontSize:"sm",children:a})]})]}),"sin validar"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k.a,{as:"span",color:"brand.700",children:Object(r.jsx)(Ne.a,{variant:"solid",colorScheme:"purple",children:"SIN VALIDAR"})}),Object(r.jsxs)(T.a,{borderLeftWidth:3,borderLeftColor:"purple.500",mt:4,mb:4,pl:2,children:[Object(r.jsxs)(R.a,{as:"h4",size:"sm",children:[s," horas"]}),Object(r.jsx)(k.a,{fontSize:"sm",children:a})]})]}),"denegado"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k.a,{as:"span",color:"brand.700",children:Object(r.jsx)(Ne.a,{variant:"solid",colorScheme:"red",children:"DENEGADO"})}),Object(r.jsxs)(T.a,{borderLeftWidth:3,borderLeftColor:"red.500",mt:4,mb:4,pl:2,children:[Object(r.jsxs)(R.a,{as:"h4",size:"sm",children:[s," horas"]}),Object(r.jsx)(k.a,{fontSize:"sm",children:a})]})]}),"inicio jornada"===t&&Object(r.jsxs)(W.a,{as:d.b,to:"/addHours/".concat(i,"/").concat(a),style:{textDecoration:"none"},children:[Object(r.jsx)(k.a,{as:"span",color:"brand.700",children:Object(r.jsx)(Ne.a,{variant:"solid",colorScheme:"cyan",children:"INICIO JORNADA"})}),Object(r.jsxs)(T.a,{borderLeftWidth:3,borderLeftColor:"cyan.500",mt:4,mb:4,pl:2,children:[Object(r.jsx)(R.a,{as:"h4",size:"sm",children:n}),Object(r.jsx)(k.a,{fontSize:"sm",children:a})]}),Object(r.jsx)(G.a,{flexDirection:"row",justifyContent:"start",alignItems:"center",children:Object(r.jsxs)(T.a,{children:[Object(r.jsx)(ze.a,{}),Object(r.jsx)(k.a,{as:"span",fontSize:"xs",ml:"4px",children:"Hay que imputar las horas finales en el mismo dia."})]})})]}),"inicio jornada"!==t?Object(r.jsx)(G.a,{flexDirection:"row",justifyContent:"start",alignItems:"center",children:Object(r.jsxs)(T.a,{children:[Object(r.jsx)(Fe.a,{}),Object(r.jsxs)(k.a,{as:"span",fontSize:"xs",ml:"4px",children:[n," - ",c]})]})}):null]})},He=a(398),Pe=a(66),Re=function(e){var t=e.isOpen,a=e.cancelRef,c=e.onClose,s=e.onSubmit,n=e.header,i=e.body,o=e.type;return Object(r.jsx)(He.a,{isOpen:t,leastDestructiveRef:a,onClose:c,isCentered:!0,children:Object(r.jsxs)(Pe.f,{children:["delete"===o&&Object(r.jsxs)(He.b,{children:[Object(r.jsx)(Pe.e,{fontSize:"lg",fontWeight:"bold",children:n}),Object(r.jsx)(Pe.b,{children:i}),Object(r.jsxs)(Pe.d,{children:[Object(r.jsx)(X.a,{ref:a,onClick:c,children:"Cancelar"}),Object(r.jsx)(X.a,{colorScheme:"red",onClick:s,ml:3,children:"Eliminar"})]})]}),"valide"===o&&Object(r.jsxs)(He.b,{children:[Object(r.jsx)(Pe.e,{fontSize:"lg",fontWeight:"bold",children:n}),Object(r.jsx)(Pe.b,{children:i}),Object(r.jsxs)(Pe.d,{children:[Object(r.jsx)(X.a,{ref:a,onClick:c,children:"Cancelar"}),Object(r.jsx)(X.a,{colorScheme:"brand",onClick:s,ml:3,children:"Validar"})]})]}),"invalide"===o&&Object(r.jsxs)(He.b,{children:[Object(r.jsx)(Pe.e,{fontSize:"lg",fontWeight:"bold",children:n}),Object(r.jsx)(Pe.b,{children:i}),Object(r.jsxs)(Pe.d,{children:[Object(r.jsx)(X.a,{ref:a,onClick:c,children:"Cancelar"}),Object(r.jsx)(X.a,{colorScheme:"red",onClick:s,ml:3,children:"Denegar"})]})]})]})})};se.a.locale("es");var We=function(){var e=Object(s.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)(),o=Object(g.a)(i,2),j=o[0],b=o[1],u=Object(s.useState)([]),h=Object(g.a)(u,2),x=h[0],O=h[1],p=Object(s.useState)(!0),m=Object(g.a)(p,2),f=m[0],v=m[1],y=Object(l.h)(),D=y.id,S=y.name,w=N().currentUser,E=n.a.useRef(),I=Object(Ce.a)();Object(s.useEffect)((function(){return C.hours.where("projectId","==",D).where("userId","==",w.uid).orderBy("date","desc").limit(30).onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,userId:e.data().userId,userName:e.data().userName,projectId:e.data().projectId,projectName:e.data().projectName,state:e.data().state,hours:e.data().hours?e.data().hours:"",type:e.data().type?e.data().type:"",date:e.data().date?se()(e.data().date.toDate()).format("L"):"",dateEnd:e.data().dateEnd?se()(e.data().dateEnd.toDate()).format("L"):""}}));O(t),v(!1)}))}),[D,w]);var A=function(e){b(e),c(!0)};return Object(r.jsxs)(Q,{justifyContent:"normal",isHeader:!0,children:[Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(W.a,{as:d.b,to:"/projects",style:{textDecoration:"none"},children:Object(r.jsxs)(G.a,{flexDirection:"row",alignItems:"center",children:[Object(r.jsx)(Se.a,{"aria-label":"Back button",mr:"8px",bg:"white",fontSize:"20px"}),Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Horas"})]})}),Object(r.jsx)(k.a,{as:"h5",textAlign:"left",mt:"10px",mb:"30px",children:"Organiza las horas trabajadas"}),Object(r.jsx)(Ie,{route:"/workStart/".concat(D,"/").concat(S),text:"Iniciar jornada"}),f?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f})]}),Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!f})]})]}):x.map((function(e,t){return Object(r.jsx)(Le,{state:e.state,projectName:e.projectName,type:e.type,hours:e.hours,date:e.date,id:e.id,onHandlerOpen:A},t)}))]}),Object(r.jsx)(Re,{isOpen:a,cancelRef:E,onClose:function(){c(!1)},onSubmit:function(){j&&C.hours.doc(j).delete().then((function(){I({position:"top",title:"Horas eliminadas.",description:"Horas eliminadas correctamente!",status:"success",duration:3e3,isClosable:!0}),c(!1)})).catch((function(e){I({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido eliminar las horas.",status:"error",duration:3e3,isClosable:!0}),c(!1)}))},header:"Eliminar horas",body:"\xbfEst\xe1s seguro? No puede deshacer esta acci\xf3n despu\xe9s.",type:"delete"})]})},ke=a(401),Me=a(372),Te=a(126),qe=a(400);se.a.locale("es");var Be=fe.d({userName:fe.e().required("Por favor escribe tu nombre."),projectName:fe.e().required("Por favor escribe la campa\xf1a en la que participas."),dateEnd:fe.b().default((function(){return se()().format("yyyy-MM-DD")})),hours:fe.c("Por favor escriba un numero.").required("Por favor escribe las horas realizadas.").positive("Por favor no entres numeros negativos.").min(0,"Por favor escribe un numero superior a 0.").max(24,"Por favor no escribas m\xe1s de 24h en una jornada laboral."),type:fe.e().required("Por favor selecciona una de las opciones.")}).required(),Ue=function(e){var t=e.latitude,a=e.longitude,c=Object(Ce.a)(),s=Object(l.g)(),n=N().currentUser,i=Object(l.h)(),o=i.id,d=i.name;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.c,{initialValues:{userName:n.name,projectName:d,dateEnd:se()().format("yyyy-MM-DD"),hours:0,type:""},validationSchema:Be,onSubmit:function(e,r){var n=r.setSubmitting;C.hours.doc(o).update({state:"sin validar",hours:e.hours,type:e.type,dateEnd:se()().toDate(),locationEnd:{latitude:t,longitude:a}}).then((function(e){c({position:"top",title:"Imputaci\xf3n creada.",description:"Imputaci\xf3n de horas correcta!",status:"success",duration:3e3,isClosable:!0}),s.goBack()})).catch((function(e){c({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido realizar la operaci\xf3n.",status:"error",duration:3e3,isClosable:!0}),n(!1)}))},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsx)(me.a,{name:"userName",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.userName&&a.touched.userName,children:[Object(r.jsx)(de.a,{htmlFor:"userName",children:"NOMBRE"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{value:a.initialValues.userName,isReadOnly:!0,variant:"flushed",placeholder:"Lebron James",id:"userName"})),Object(r.jsx)(je.a,{children:a.errors.userName})]})}}),Object(r.jsx)(me.a,{name:"projectName",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:a.errors.projectName&&a.touched.projectName,children:[Object(r.jsx)(de.a,{htmlFor:"projectName",children:"CAMPA\xd1A"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{value:a.initialValues.projectName,isReadOnly:!0,variant:"flushed",placeholder:"EMT campa\xf1a",id:"projectName"})),Object(r.jsx)(je.a,{children:a.errors.projectName})]})}}),Object(r.jsx)(me.a,{name:"dateEnd",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:a.errors.dateEnd&&a.touched.dateEnd,children:[Object(r.jsx)(de.a,{htmlFor:"dateEnd",children:"FECHA"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({type:"date"},t),{},{isReadOnly:!0,variant:"flushed",id:"dateEnd"})),Object(r.jsx)(je.a,{children:a.errors.dateEnd})]})}}),Object(r.jsx)(me.a,{name:"hours",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:a.errors.hours&&a.touched.hours,children:[Object(r.jsx)(de.a,{htmlFor:"hours",children:"HORAS REALIZADAS"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{type:"number",inputMode:"decimal",variant:"flushed",step:"0.01",pattern:"[0-9]+([\\.,][0-9]+)?",id:"hours"})),Object(r.jsx)(je.a,{children:a.errors.hours})]})}}),Object(r.jsx)(me.a,{name:"type",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:a.errors.type&&a.touched.type,children:[Object(r.jsx)(de.a,{htmlFor:"type",children:"TIPO"}),Object(r.jsxs)(qe.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",id:"type",placeholder:"Selecciona un tipo",children:[Object(r.jsx)("option",{value:"Normal (L-D)",children:"Normal (L-D)"}),Object(r.jsx)("option",{value:"Nocturna",children:"Nocturna"}),Object(r.jsx)("option",{value:"Festiva",children:"Festiva"})]})),a.errors.type?Object(r.jsx)(je.a,{children:a.errors.type}):null,Object(r.jsx)(oe.b,{children:"Elija el tipo de hora que ha realizado."})]})}}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Guardando",type:"submit",children:"Guardar"})]})}})})},Ge=Object(Te.geolocated)({positionOptions:{enableHighAccuracy:!0}})((function(e){var t=e.coords,a=e.isGeolocationAvailable,c=e.isGeolocationEnabled;return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:a?c?t?Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(W.a,{as:d.b,to:"/projects",style:{textDecoration:"none"},children:Object(r.jsxs)(G.a,{flexDirection:"row",alignItems:"center",children:[Object(r.jsx)(Se.a,{"aria-label":"Back button",mr:"8px",bg:"white",fontSize:"20px"}),Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"A\xf1adir horas"})]})}),Object(r.jsx)(k.a,{as:"h5",textAlign:"left",mt:"10px",mb:"40px",children:"Imputa las horas que has realizado"}),Object(r.jsx)(T.a,{w:"full",children:Object(r.jsx)(Ue,{latitude:t.latitude,longitude:t.longitude})})]}):Object(r.jsxs)(ke.a,{h:"150px",children:[Object(r.jsx)(Me.a,{color:"brand.500",mr:"15px"}),Object(r.jsx)(k.a,{children:"Obteniendo los datos de ubicaci\xf3n..."})]}):Object(r.jsx)(ke.a,{h:"150px",children:Object(r.jsx)(k.a,{children:"La geolocalizaci\xf3n no est\xe1 habilitada"})}):Object(r.jsx)(ke.a,{h:"150px",children:Object(r.jsx)(k.a,{children:"Su navegador no admite Geolocalizaci\xf3n"})})})}));se.a.locale("es");var Ve=fe.d({userName:fe.e().required("Por favor escribe tu nombre."),projectName:fe.e().required("Por favor escribe la campa\xf1a en la que participas."),date:fe.b().default((function(){return se()().format("yyyy-MM-DD")}))}).required(),Ye=function(e){var t=e.latitude,a=e.longitude,c=Object(Ce.a)(),s=Object(l.g)(),n=N().currentUser,i=Object(l.h)(),o=i.id,d=i.name;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.c,{initialValues:{userName:n.name,projectName:d,date:se()().format("yyyy-MM-DD")},validationSchema:Ve,onSubmit:function(e,r){var i=r.setSubmitting;C.hours.add({userId:n.uid,userName:e.userName,projectId:o,projectName:e.projectName,state:"inicio jornada",date:se()().toDate(),contractHours:n.hours,locationStart:{latitude:t,longitude:a}}).then((function(e){c({position:"top",title:"Jornada iniciada.",description:"Jornada iniciada correctamente!",status:"success",duration:3e3,isClosable:!0}),s.goBack()})).catch((function(e){c({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido realizar la operaci\xf3n.",status:"error",duration:3e3,isClosable:!0}),i(!1)}))},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsx)(me.a,{name:"userName",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.userName&&a.touched.userName,children:[Object(r.jsx)(de.a,{htmlFor:"userName",children:"NOMBRE"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{value:a.initialValues.userName,isReadOnly:!0,variant:"flushed",placeholder:"Nombre t\xe9cnico/a",id:"userName"})),Object(r.jsx)(je.a,{children:a.errors.userName})]})}}),Object(r.jsx)(me.a,{name:"projectName",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:a.errors.projectName&&a.touched.projectName,children:[Object(r.jsx)(de.a,{htmlFor:"projectName",children:"CAMPA\xd1A"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{value:a.initialValues.projectName,isReadOnly:!0,variant:"flushed",placeholder:"Campa\xf1a X",id:"projectName"})),Object(r.jsx)(je.a,{children:a.errors.projectName})]})}}),Object(r.jsx)(me.a,{name:"date",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:a.errors.date&&a.touched.date,children:[Object(r.jsx)(de.a,{htmlFor:"date",children:"FECHA"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({type:"date"},t),{},{isReadOnly:!0,variant:"flushed",id:"date"})),Object(r.jsx)(je.a,{children:a.errors.date})]})}}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Guardando",type:"submit",children:"Iniciar jornada"})]})}})})},Xe=Object(Te.geolocated)({positionOptions:{enableHighAccuracy:!0}})((function(e){var t=e.coords,a=e.isGeolocationAvailable,c=e.isGeolocationEnabled;return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:a?c?t?Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(W.a,{as:d.b,to:"/projects",style:{textDecoration:"none"},children:Object(r.jsxs)(G.a,{flexDirection:"row",alignItems:"center",children:[Object(r.jsx)(Se.a,{"aria-label":"Back button",mr:"8px",bg:"white",fontSize:"20px"}),Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"A\xf1adir horas"})]})}),Object(r.jsx)(k.a,{as:"h5",textAlign:"left",mt:"10px",mb:"40px",children:"Inicia la jornada de trabajo"}),Object(r.jsx)(T.a,{w:"full",children:Object(r.jsx)(Ye,{latitude:t.latitude,longitude:t.longitude})})]}):Object(r.jsxs)(ke.a,{h:"150px",children:[Object(r.jsx)(Me.a,{color:"brand.500",mr:"15px"}),Object(r.jsx)(k.a,{children:"Obteniendo los datos de ubicaci\xf3n..."})]}):Object(r.jsx)(ke.a,{h:"150px",children:Object(r.jsx)(k.a,{children:"La geolocalizaci\xf3n no est\xe1 habilitada"})}):Object(r.jsx)(ke.a,{h:"150px",children:Object(r.jsx)(k.a,{children:"Su navegador no admite Geolocalizaci\xf3n"})})})})),Je=a(428),_e=a(403),Ze=a(402),Ke=function(e){var t=e.state,a=e.name,c=e.description,s=e.startDate,n=e.endDate,i=e.link,o=e.id;return Object(r.jsx)(W.a,{as:d.b,to:"".concat(i,"/").concat(o,"/").concat(a),style:{textDecoration:"none"},children:Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(k.a,{as:"span",color:"En activo"===t?"brand.700":"red.500",children:t.toUpperCase()}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(T.a,{borderLeftWidth:3,borderLeftColor:"En activo"===t?"brand.700":"red.500",mt:4,mb:4,pl:2,children:[Object(r.jsx)(R.a,{as:"h4",size:"sm",children:a}),Object(r.jsx)(k.a,{fontSize:"sm",children:c})]}),Object(r.jsx)(G.a,{flexDirection:"row",justifyContent:"start",alignItems:"center",children:Object(r.jsxs)(T.a,{children:[Object(r.jsx)(Fe.a,{}),Object(r.jsxs)(k.a,{as:"span",fontSize:"xs",ml:"4px",children:[s," - ",n]})]})})]})})};se.a.locale("es");var $e=function(){var e=Object(s.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),i=Object(g.a)(n,2),o=i[0],d=i[1],l=N().currentUser;return Object(s.useEffect)((function(){C.projects.where("users","array-contains",l.uid).orderBy("startDate","desc").limit(15).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,startDate:e.data().startDate,endDate:e.data().endDate,description:e.data().description,name:e.data().name,users:e.data().users}}));c(t),d(!1)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[l.uid]),Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Campa\xf1as"}),Object(r.jsx)(k.a,{as:"h5",textAlign:"left",mt:"10px",mb:"30px",children:"Selecciona la campa\xf1a a la que quieras imputar horas"}),Object(r.jsxs)(Je.a,{minChildWidth:"220px",spacing:"15px",mb:"30px",children:[Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Horas contratadas"}),Object(r.jsx)(_e.d,{children:"".concat(l.hours,"h/mes")})]})}),Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Precio por hora"}),Object(r.jsxs)(_e.d,{fontSize:"md",children:[Object(r.jsx)(k.a,{as:"span",fontWeight:"400",color:"gray.900",fontSize:"md",mr:"8px",children:"Normal (L-D)"}),"7\u20ac brutos/hora"]}),Object(r.jsxs)(_e.d,{fontSize:"md",children:[Object(r.jsx)(k.a,{as:"span",fontWeight:"400",color:"gray.900",fontSize:"md",mr:"8px",children:"Festiva"}),"8\u20ac brutos/hora"]}),Object(r.jsxs)(_e.d,{fontSize:"md",children:[Object(r.jsx)(k.a,{as:"span",fontWeight:"400",color:"gray.900",fontSize:"md",mr:"8px",children:"Nocturna"}),"10\u20ac brutos/hora"]})]})})]}),Object(r.jsx)(Ze.a,{mt:"30px",mb:"30px",borderBottomWidth:3,borderColor:"brand.500"}),o?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o})]}),Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o})]})]}):a.map((function(e,t){return se()().toDate()>=se()(e.startDate.toDate())&&se()().toDate()<=se()(e.endDate.toDate())?Object(r.jsx)(Ke,{state:"En activo",name:e.name,description:e.description,startDate:se()(e.startDate.toDate()).format("L"),endDate:se()(e.endDate.toDate()).format("L"),link:"/hours",id:e.id},t):null}))]})})},Qe=a(81),et=a(68),tt=a.n(et),at=a(414),rt=a(128),ct=a(404),st=a(405),nt=function(e){var t=e.breadcrumbs;return Object(r.jsx)(ct.a,{spacing:"8px",separator:Object(r.jsx)(st.a,{color:"gray.500"}),mt:"15px",mb:"30px",children:t.map((function(e,t){return Object(r.jsx)(ct.b,{isCurrentPage:e.isCurrentPage,children:Object(r.jsx)(ct.c,{as:d.b,to:e.href,children:e.title})},t)}))})},it=a(408),ot=a(11),dt=a(406),lt=a(407),jt=a(409),bt=a(410),ut=a(411),ht=a(412),xt=a(413),Ot=a(91),pt=a(102),mt=a.n(pt);function ft(e){var t=e.preGlobalFilteredRows,a=e.globalFilter,c=e.setGlobalFilter,n=(e.rows,t.length),i=Object(s.useState)(a),o=Object(g.a)(i,2),d=o[0],l=o[1],j=Object(Ot.useAsyncDebounce)((function(e){c(e||void 0)}),200);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k.a,{mb:"8px",children:"Buscar:"}),Object(r.jsxs)(be.a,{mb:"30px",children:[Object(r.jsx)(ue.a,{pointerEvents:"none",color:"gray.300",fontSize:"1.2em",children:Object(r.jsx)(dt.a,{})}),Object(r.jsx)(le.a,{placeholder:"".concat(n," registros..."),value:d||"",onChange:function(e){l(e.target.value),j(e.target.value)}}),Object(r.jsx)(_.a,{ml:"8px",colorScheme:"brand","aria-label":"Search database",icon:Object(r.jsx)(lt.a,{}),onClick:function(){return function(){var e=document.getElementById("tableReact"),t=mt.a.utils.table_to_sheet(e),a=mt.a.utils.book_new();mt.a.utils.book_append_sheet(a,t,"ExportSheet"),mt.a.writeFile(a,"export-sheet.xlsx",{bookType:"xlsx"})}()}})]})]})}var gt=function(e){var t=e.data,a=e.columns,c=e.overflow,s=Object(Ot.useTable)({columns:a,data:t},Ot.useGlobalFilter,Ot.useSortBy,Ot.usePagination),n=s.getTableProps,i=s.getTableBodyProps,o=s.headerGroups,d=s.page,l=s.rows,j=s.canPreviousPage,b=s.canNextPage,u=s.pageOptions,h=s.pageCount,x=s.gotoPage,O=s.nextPage,p=s.previousPage,f=s.setPageSize,g=s.prepareRow,v=s.preGlobalFilteredRows,y=s.setGlobalFilter,D=s.state,S=D.pageIndex,C=D.pageSize,w=D.globalFilter;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ze.a,{mt:"30px",mb:"30px",borderBottomWidth:3,borderColor:"brand.500"}),Object(r.jsx)(ft,{preGlobalFilteredRows:v,globalFilter:w,setGlobalFilter:y,rows:l}),Object(r.jsxs)(it.a,Object(m.a)(Object(m.a)({},n()),{},{variant:"striped",colorScheme:"gray",id:"tableReact",style:c?{maxWidth:"1210px",width:"1210px",display:"block",overflowX:"auto"}:null,children:[Object(r.jsx)(it.e,{children:o.map((function(e){return Object(r.jsx)(it.f,Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(r.jsxs)(it.d,Object(m.a)(Object(m.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{isNumeric:e.isNumeric,children:[e.render("Header"),Object(r.jsx)(ot.a.span,{pl:"4",children:e.isSorted?e.isSortedDesc?Object(r.jsx)(jt.a,{"aria-label":"sorted descending"}):Object(r.jsx)(bt.a,{"aria-label":"sorted ascending"}):null})]}))}))}))}))}),Object(r.jsx)(it.b,Object(m.a)(Object(m.a)({},i()),{},{children:d.map((function(e){return g(e),Object(r.jsx)(it.f,Object(m.a)(Object(m.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(r.jsx)(it.c,Object(m.a)(Object(m.a)({},e.getCellProps()),{},{isNumeric:e.column.isNumeric,style:e.column.style,children:Object(r.jsx)(k.a,{children:e.render("Cell")})}))}))}))}))}))]})),Object(r.jsxs)(G.a,{flexDirection:"row",justifyContent:"center",alignItems:"center",pt:4,children:[Object(r.jsxs)(G.a,{flex:1,alignItems:"center",children:[Object(r.jsx)(_.a,{variant:"outline",colorScheme:"gray","aria-label":"Call Sage",fontSize:"20px",icon:Object(r.jsx)(ut.a,{}),onClick:function(){return x(0)},isDisabled:!j,mr:"8px"}),Object(r.jsx)(_.a,{variant:"outline",colorScheme:"gray","aria-label":"Call Sage",fontSize:"20px",icon:Object(r.jsx)(ht.a,{}),onClick:function(){return p()},isDisabled:!j,mr:"8px"}),Object(r.jsx)(_.a,{variant:"outline",colorScheme:"gray","aria-label":"Call Sage",fontSize:"20px",icon:Object(r.jsx)(st.a,{}),onClick:function(){return O()},isDisabled:!b,mr:"8px"}),Object(r.jsx)(_.a,{variant:"outline",colorScheme:"gray","aria-label":"Call Sage",fontSize:"20px",icon:Object(r.jsx)(xt.a,{}),onClick:function(){return x(h-1)},isDisabled:!b,mr:"16px"}),Object(r.jsxs)(T.a,{as:"span",children:["Page"," ",Object(r.jsxs)(T.a,{as:"strong",children:[S+1," of ",u.length]})," "]})]}),Object(r.jsx)(we.a,{spacing:3,children:Object(r.jsx)(qe.a,{value:C,onChange:function(e){f(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return Object(r.jsxs)("option",{value:e,children:["Mostrar ",e]},e)}))})})]})]})};se.a.locale("es");var vt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"#",title:"Campa\xf1as",isCurrentPage:!0}],yt=function(){var e=Object(s.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)(),o=Object(g.a)(i,2),l=o[0],j=o[1],b=Object(s.useState)([]),u=Object(g.a)(b,2),h=u[0],x=u[1],O=n.a.useRef(),p=Object(Ce.a)();Object(s.useEffect)((function(){return C.projects.orderBy("startDate","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,startDate:e.data().startDate,endDate:e.data().endDate,description:e.data().description,name:e.data().name,users:e.data().users}}));x(t)}))}),[]);var m=n.a.useMemo((function(){return[{Header:"Nombre",accessor:"name",style:{maxWidth:"230px"}},{Header:"Descripci\xf3n",accessor:"description",style:{maxWidth:"230px"}},{Header:"Fecha inicio",accessor:function(e){return se()(e.startDate.toDate()).format("L")}},{Header:"Fecha final",accessor:function(e){return se()(e.endDate.toDate()).format("L")}},{Header:"Actions",accessor:"id",Cell:function(e){var t=e.value;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(W.a,{as:d.b,to:"/infoStats/".concat(t),style:{textDecoration:"none"},children:Object(r.jsx)(_.a,{colorScheme:"purple","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(Qe.a,{as:rt.a})})}),Object(r.jsx)(W.a,{as:d.b,to:"/updateProject/".concat(t),style:{textDecoration:"none"},children:Object(r.jsx)(_.a,{colorScheme:"blue","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(at.a,{})})}),Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"sm",icon:Object(r.jsx)(Ae.a,{}),onClick:function(){return f(t)}})]})}}]}),[]),f=function(e){j(e),c(!0)};return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Campa\xf1as"}),Object(r.jsx)(nt,{breadcrumbs:vt}),Object(r.jsx)(Ie,{route:"/addProject",text:"A\xf1adir campa\xf1a"}),Object(r.jsxs)(Je.a,{minChildWidth:"220px",spacing:"15px",mb:"30px",children:[Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total campa\xf1as"}),Object(r.jsx)(_e.d,{children:h?h.length:null})]})}),Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"En activo"}),Object(r.jsx)(_e.d,{children:h?tt()(h,(function(e){return se()().toDate()>=se()(e.startDate.toDate())&&se()().toDate()<=se()(e.endDate.toDate())})).length:null})]})})]}),Object(r.jsx)(gt,{data:h,columns:m}),Object(r.jsx)(Re,{isOpen:a,cancelRef:O,onClose:function(){c(!1)},onSubmit:function(){l&&C.projects.doc(l).delete().then((function(){p({position:"top",title:"Campa\xf1a eliminada.",description:"Campa\xf1a eliminada correctamente!",status:"success",duration:3e3,isClosable:!0}),c(!1)})).catch((function(e){p({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido eliminar la campa\xf1a.",status:"error",duration:3e3,isClosable:!0}),c(!1)}))},header:"Eliminar campa\xf1a",body:"\xbfEst\xe1s seguro? No puede deshacer esta acci\xf3n despu\xe9s.",type:"delete"})]})})},Dt=a(201),St=a(423),Ct=a(127),wt=a.n(Ct),Et="/projectlist",It="/users",Nt=fe.d({name:fe.e().required("Por favor escribe el nombre de la campa\xf1a."),description:fe.e().required("Por favor escribe una breve descripci\xf3n."),startDate:fe.b().default((function(){return se()().format("yyyy-MM-DD")})).required("Por favor escribe la fecha de inicio."),endDate:fe.b().default((function(){return se()().format("yyyy-MM-DD")})).required("Por favor escribe la fecha de finalizaci\xf3n."),users:fe.a()}).required(),At=function(e){var t=e.users,a=Object(Ce.a)(),c=Object(l.g)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.c,{initialValues:{name:"",description:"",startDate:se()().format("yyyy-MM-DD"),endDate:se()().format("yyyy-MM-DD"),users:t},validationSchema:Nt,onSubmit:function(e,t){var r=t.setSubmitting;C.projects.add({name:e.name,description:e.description,startDate:se()(e.startDate).toDate(),endDate:se()(e.endDate).toDate(),users:e.users}).then((function(e){a({position:"top",title:"Campa\xf1a creada.",description:"Campa\xf1a creada correctamente!",status:"success",duration:3e3,isClosable:!0}),c.push(Et)})).catch((function(e){a({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido crear la campa\xf1a.",status:"error",duration:3e3,isClosable:!0}),r(!1)}))},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsx)(me.a,{name:"name",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.name&&a.touched.name,children:[Object(r.jsx)(de.a,{htmlFor:"name",children:"NOMBRE"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"Campa\xf1a x",type:"text",id:"name"})),Object(r.jsx)(je.a,{children:a.errors.name})]})}}),Object(r.jsx)(me.a,{name:"description",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.description&&a.touched.description,mt:"20px",children:[Object(r.jsx)(de.a,{htmlFor:"description",children:"DESCRIPCION"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"Descripci\xf3n corta...",type:"text",id:"description"})),a.errors.password?Object(r.jsx)(je.a,{children:a.errors.description}):Object(r.jsx)(oe.b,{children:"Descripci\xf3n corta de la campa\xf1a."})]})}}),Object(r.jsxs)(Je.a,{columns:2,minChildWidth:250,spacingX:"40px",spacingY:"20px",mt:"20px",children:[Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"startDate",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.startDate&&a.touched.startDate,children:[Object(r.jsx)(de.a,{htmlFor:"startDate",children:"FECHA DE INICIO"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"EMT campa\xf1a",type:"date",id:"startDate"})),Object(r.jsx)(je.a,{children:a.errors.startDate})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"endDate",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.endDate&&a.touched.endDate,children:[Object(r.jsx)(de.a,{htmlFor:"endDate",children:"FECHA DE FINALIZACI\xd3N"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"EMT campa\xf1a",type:"date",id:"endDate"})),Object(r.jsx)(je.a,{children:a.errors.endDate})]})}})})]}),Object(r.jsx)(me.a,{name:"users",children:function(e){var a=e.field,c=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:c.errors.users&&c.touched.users,children:[Object(r.jsx)(de.a,{htmlFor:"users",children:"USUARIOS"}),Object(r.jsx)(Dt.a,{colorScheme:"brand",children:Object(r.jsx)(Je.a,{minChildWidth:"200px",spacingY:"20px",spacingX:"10px",children:t?wt()(t,["name"]).map((function(e,t){return Object(r.jsx)(T.a,{children:Object(s.createElement)(St.a,Object(m.a)(Object(m.a)({},a),{},{value:e.id,key:e.id}),e.name)},t)})):null})}),Object(r.jsx)(je.a,{children:c.errors.users})]})}}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Guardando",type:"submit",children:"Guardar"})]})}})})},zt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"/projectlist",title:"Campa\xf1as",isCurrentPage:!1},{href:"#",title:"A\xf1adir",isCurrentPage:!0}],Ft=function(){var e=Object(s.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1];return Object(s.useEffect)((function(){C.users.where("isActive","==",!0).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name}}));c(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"A\xf1adir campa\xf1a"}),Object(r.jsx)(nt,{breadcrumbs:zt}),Object(r.jsx)(At,{users:a})]})})},Lt=fe.d({name:fe.e().required("Por favor escribe el nombre de la campa\xf1a."),description:fe.e().required("Por favor escribe una breve descripci\xf3n."),startDate:fe.b().default((function(){return se()().format("yyyy-MM-DD")})).required("Por favor escribe la fecha de inicio."),endDate:fe.b().default((function(){return se()().format("yyyy-MM-DD")})).required("Por favor escribe la fecha de finalizaci\xf3n."),users:fe.a()}).required(),Ht=function(e){var t=e.initialValues,a=e.users,c=Object(Ce.a)(),n=Object(l.g)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.c,{initialValues:t,validationSchema:Lt,onSubmit:function(e,a){var r=a.setSubmitting;C.projects.doc(t.id).update({name:e.name,description:e.description,startDate:se()(e.startDate).toDate(),endDate:se()(e.endDate).toDate(),users:e.users}).then((function(e){c({position:"top",title:"Campa\xf1a modificada.",description:"Campa\xf1a modificada correctamente!",status:"success",duration:3e3,isClosable:!0}),n.push(Et)})).catch((function(e){c({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido modificar la campa\xf1a.",status:"error",duration:3e3,isClosable:!0}),r(!1)}))},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsx)(me.a,{name:"name",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.name&&a.touched.name,children:[Object(r.jsx)(de.a,{htmlFor:"name",children:"NOMBRE"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"Emt a l'escola",type:"text",id:"name"})),Object(r.jsx)(je.a,{children:a.errors.name})]})}}),Object(r.jsx)(me.a,{name:"description",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.description&&a.touched.description,mt:"20px",children:[Object(r.jsx)(de.a,{htmlFor:"description",children:"DESCRIPCION"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"Descripci\xf3n corta...",type:"text",id:"description"})),a.errors.password?Object(r.jsx)(je.a,{children:a.errors.description}):Object(r.jsx)(oe.b,{children:"Descripci\xf3n corta de la campa\xf1a."})]})}}),Object(r.jsxs)(Je.a,{columns:2,minChildWidth:250,spacingX:"40px",spacingY:"20px",mt:"20px",children:[Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"startDate",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.startDate&&a.touched.startDate,children:[Object(r.jsx)(de.a,{htmlFor:"startDate",children:"FECHA DE INICIO"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"EMT campa\xf1a",type:"date",id:"startDate"})),Object(r.jsx)(je.a,{children:a.errors.startDate})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"endDate",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.endDate&&a.touched.endDate,children:[Object(r.jsx)(de.a,{htmlFor:"endDate",children:"FECHA DE FINALIZACI\xd3N"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"EMT campa\xf1a",type:"date",id:"endDate"})),Object(r.jsx)(je.a,{children:a.errors.endDate})]})}})})]}),Object(r.jsx)(me.a,{name:"users",children:function(e){var c=e.field,n=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:n.errors.users&&n.touched.users,children:[Object(r.jsx)(de.a,{htmlFor:"users",children:"USUARIOS"}),Object(r.jsx)(Dt.a,{defaultValue:t.users,colorScheme:"brand",children:Object(r.jsx)(Je.a,{minChildWidth:"200px",spacingY:"20px",spacingX:"10px",children:a?wt()(a,["name"]).map((function(e,t){return Object(r.jsx)(T.a,{children:Object(s.createElement)(St.a,Object(m.a)(Object(m.a)({},c),{},{value:e.id,key:e.id}),e.name)},t)})):null})}),Object(r.jsx)(je.a,{children:n.errors.users})]})}}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Guardando",type:"submit",children:"Guardar"})]})}})})},Pt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"/projectlist",title:"Campa\xf1as",isCurrentPage:!1},{href:"#",title:"Actualizar",isCurrentPage:!0}],Rt=function(){var e=Object(s.useState)(null),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),i=Object(g.a)(n,2),o=i[0],d=i[1],j=Object(l.h)().id;return Object(s.useEffect)((function(){C.projects.doc(j).get().then((function(e){var t={id:e.id,users:e.data().users?e.data().users:[],name:e.data().name,description:e.data().description,startDate:se()(e.data().startDate.toDate()).format("yyyy-MM-DD"),endDate:se()(e.data().endDate.toDate()).format("yyyy-MM-DD")};c(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[j]),Object(s.useEffect)((function(){C.users.where("isActive","==",!0).get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,name:e.data().name}}));d(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Actualizar campa\xf1a"}),Object(r.jsx)(nt,{breadcrumbs:Pt}),a&&o.length>0&&Object(r.jsx)(Ht,{initialValues:a,users:o})]})})},Wt=a(46),kt=a.n(Wt),Mt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"#",title:"Usuarios",isCurrentPage:!0}],Tt=function(){var e=n.a.useState(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)(),o=Object(g.a)(i,2),l=o[0],j=o[1],b=Object(s.useState)([]),u=Object(g.a)(b,2),h=u[0],x=u[1],O=n.a.useRef(),p=Object(Ce.a)();Object(s.useEffect)((function(){return C.users.where("isActive","==",!0).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));x(t)}))}),[]);var f=n.a.useMemo((function(){return[{Header:"Nombre",accessor:"name",style:{maxWidth:"230px"}},{Header:"Correo electr\xf3nico",accessor:"email",style:{maxWidth:"230px"}},{Header:"Contratadas(h)",accessor:"hours",isNumeric:!0},{Header:"Rol",accessor:"role"},{Header:"Actions",accessor:"id",Cell:function(e){var t=e.value;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(W.a,{as:d.b,to:"/userStats/".concat(t),style:{textDecoration:"none"},children:Object(r.jsx)(_.a,{colorScheme:"purple","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(Qe.a,{as:rt.a})})}),Object(r.jsx)(W.a,{as:d.b,to:"/updateUser/".concat(t),style:{textDecoration:"none"},children:Object(r.jsx)(_.a,{colorScheme:"blue","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(at.a,{})})}),Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"sm",icon:Object(r.jsx)(Ae.a,{}),onClick:function(){return v(t)}})]})}}]}),[]),v=function(e){j(e),c(!0)};return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Usuarios"}),Object(r.jsx)(nt,{breadcrumbs:Mt}),Object(r.jsx)(Ie,{route:"/addUser",text:"A\xf1adir usuario"}),Object(r.jsxs)(Je.a,{minChildWidth:"220px",spacing:"15px",mb:"30px",children:[Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total usuarios"}),Object(r.jsx)(_e.d,{children:h?h.length:null})]})}),Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total horas contratadas"}),Object(r.jsx)(_e.d,{children:"".concat(h?kt()(h,"hours"):null,"h")})]})})]}),Object(r.jsx)(gt,{data:h,columns:f}),Object(r.jsx)(Re,{isOpen:a,cancelRef:O,onClose:function(){c(!1)},onSubmit:function(){l&&C.users.doc(l).update({isActive:!1}).then((function(){p({position:"top",title:"Usuario eliminado.",description:"Usuario eliminado correctamente!",status:"success",duration:3e3,isClosable:!0}),c(!1)})).catch((function(e){p({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido eliminar el usuario.",status:"error",duration:3e3,isClosable:!0}),c(!1),console.log(e)}))},header:"Eliminar usuario",body:"\xbfEst\xe1s seguro? No puede deshacer esta acci\xf3n despu\xe9s.",type:"delete"})]})})},qt=a(421),Bt=fe.d({name:fe.e().required("Por favor escribe el nombre del usuario."),email:fe.e().email("El email no es v\xe1lido.").required("Por favor escribe un email valido."),hours:fe.c("Por favor escriba un numero.").required("Por favor escribe las horas contratadas.").positive("Por favor no entres numeros negativos."),createDate:fe.b().required("Por favor escribe la fecha de inicio."),password:fe.e().required("Por favor escribe la contrase\xf1a."),role:fe.e().required("Por favor selecciona un rol para el usuario.")}).required(),Ut=function(){var e=Object(s.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],n=function(){return c(!a)},i=Object(Ce.a)(),o=Object(l.g)(),d=N().signup;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.c,{initialValues:{name:"",email:"",hours:0,createDate:se()().format("yyyy-MM-DD"),role:"",password:""},validationSchema:Bt,onSubmit:function(e,t){var a=t.setSubmitting;d(e.email,e.password).then((function(t){t&&C.users.doc(t.user.uid).set({name:e.name,email:e.email,hours:e.hours,createDate:se()(e.createDate).toDate(),isActive:!0,role:e.role}).then((function(e){i({position:"top",title:"Usuario creado.",description:"Usuario creado correctamente!",status:"success",duration:3e3,isClosable:!0}),E.signOut().then((function(e){console.log("signOut - 2")})).catch((function(e){console.log(e),a(!1)})),o.push(It)})).catch((function(e){i({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido crear el usuario.",status:"error",duration:3e3,isClosable:!0}),a(!1)}))})).catch((function(e){i({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido crear el usuario.",status:"error",duration:3e3,isClosable:!0}),console.log(e),a(!1)}))},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsxs)(Je.a,{minChildWidth:"320px",spacingX:"40px",spacingY:"20px",children:[Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"name",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.name&&a.touched.name,children:[Object(r.jsx)(de.a,{htmlFor:"name",children:"NOMBRE"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"T\xe9cnico/a",id:"name"})),Object(r.jsx)(je.a,{children:a.errors.name})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"email",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.email&&a.touched.email,children:[Object(r.jsx)(de.a,{htmlFor:"email",children:"EMAIL"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"someone@example.com",id:"email"})),Object(r.jsx)(je.a,{children:a.errors.email})]})}})})]}),Object(r.jsxs)(Je.a,{columns:3,minChildWidth:250,spacingX:"40px",spacingY:"20px",mt:"20px",children:[Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"hours",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.hours&&a.touched.hours,children:[Object(r.jsx)(de.a,{htmlFor:"hours",children:"HORAS CONTRATADAS"}),Object(r.jsx)(qt.a,{variant:"flushed",children:Object(r.jsx)(qt.b,Object(m.a)(Object(m.a)({},t),{},{type:"number",id:"hours"}))}),Object(r.jsx)(je.a,{children:a.errors.hours})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"createDate",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.createDate&&a.touched.createDate,children:[Object(r.jsx)(de.a,{htmlFor:"createDate",children:"FECHA DE INICIO"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",type:"date",id:"createDate"})),Object(r.jsx)(je.a,{children:a.errors.createDate})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"role",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.role&&a.touched.role,children:[Object(r.jsx)(de.a,{htmlFor:"type",children:"ROL"}),Object(r.jsxs)(qe.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",id:"role",placeholder:"Selecciona un rol",children:[Object(r.jsx)("option",{value:"tecnico",children:"Tecnico"}),Object(r.jsx)("option",{value:"admin",children:"Administrador"})]})),a.errors.role?Object(r.jsx)(je.a,{children:a.errors.role}):Object(r.jsx)(oe.b,{children:"Elija el tipo de rol del usuario."})]})}})})]}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"password",children:function(e){var t=e.field,c=e.form;return Object(r.jsxs)(oe.a,{mt:"20px",isInvalid:c.errors.password&&c.touched.password,children:[Object(r.jsx)(de.a,{htmlFor:"password",children:"CONTRASE\xd1A"}),Object(r.jsxs)(be.a,{size:"md",children:[Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"contrase\xf1asegura1234",type:a?"text":"password",id:"password",autoComplete:"off"})),Object(r.jsx)(ue.b,{width:"4.5rem",children:Object(r.jsx)(X.a,{h:"1.75rem",size:"sm",onClick:n,children:a?Object(r.jsx)(Oe.a,{}):Object(r.jsx)(pe.a,{})})})]}),c.errors.password?Object(r.jsx)(je.a,{children:c.errors.password}):Object(r.jsx)(oe.b,{children:"Nunca comparta su contrase\xf1a."})]})}})}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Guardando",type:"submit",children:"Guardar"})]})}})})},Gt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"/users",title:"Usuarios",isCurrentPage:!1},{href:"#",title:"A\xf1adir",isCurrentPage:!0}],Vt=function(){return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"A\xf1adir usuario"}),Object(r.jsx)(nt,{breadcrumbs:Gt}),Object(r.jsx)(Ut,{})]})})},Yt=fe.d({name:fe.e().required("Por favor escribe el nombre del usuario."),hours:fe.c("Por favor escriba un numero.").required("Por favor escribe las horas contratadas.").positive("Por favor no entres numeros negativos."),createDate:fe.b().required("Por favor escribe la fecha de inicio."),role:fe.e().required("Por favor selecciona un rol para el usuario.")}).required(),Xt=function(e){var t=e.initialValues,a=Object(Ce.a)(),c=Object(l.g)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(me.c,{initialValues:t,validationSchema:Yt,onSubmit:function(e,r){var s=r.setSubmitting;C.users.doc(t.id).update({name:e.name,hours:e.hours,createDate:se()(e.createDate).toDate(),role:e.role}).then((function(e){a({position:"top",title:"Usuario modificado.",description:"Usuario modificado correctamente!",status:"success",duration:3e3,isClosable:!0}),c.push(It)})).catch((function(e){a({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido modificadar el usuario.",status:"error",duration:3e3,isClosable:!0}),s(!1)}))},children:function(e){return Object(r.jsxs)(me.b,{children:[Object(r.jsx)(me.a,{name:"name",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.name&&a.touched.name,children:[Object(r.jsx)(de.a,{htmlFor:"name",children:"NOMBRE"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",placeholder:"John Wick",id:"name"})),Object(r.jsx)(je.a,{children:a.errors.name})]})}}),Object(r.jsxs)(Je.a,{columns:3,minChildWidth:250,spacingX:"40px",spacingY:"20px",mt:"20px",children:[Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"hours",children:function(e){var a=e.field,c=e.form;return Object(r.jsxs)(oe.a,{isInvalid:c.errors.hours&&c.touched.hours,children:[Object(r.jsx)(de.a,{htmlFor:"hours",children:"HORAS CONTRATADAS"}),Object(r.jsx)(qt.a,{variant:"flushed",defaultValue:t.hours,children:Object(r.jsx)(qt.b,Object(m.a)(Object(m.a)({},a),{},{type:"number",id:"hours"}))}),Object(r.jsx)(je.a,{children:c.errors.hours})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"createDate",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.createDate&&a.touched.createDate,children:[Object(r.jsx)(de.a,{htmlFor:"createDate",children:"FECHA DE INICIO"}),Object(r.jsx)(le.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",type:"date",id:"createDate"})),Object(r.jsx)(je.a,{children:a.errors.createDate})]})}})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(me.a,{name:"role",children:function(e){var t=e.field,a=e.form;return Object(r.jsxs)(oe.a,{isInvalid:a.errors.role&&a.touched.role,children:[Object(r.jsx)(de.a,{htmlFor:"type",children:"ROL"}),Object(r.jsxs)(qe.a,Object(m.a)(Object(m.a)({},t),{},{variant:"flushed",id:"role",placeholder:"Selecciona un rol",children:[Object(r.jsx)("option",{value:"tecnico",children:"Tecnico"}),Object(r.jsx)("option",{value:"admin",children:"Administrador"})]})),a.errors.role?Object(r.jsx)(je.a,{children:a.errors.role}):Object(r.jsx)(oe.b,{children:"Elija el tipo de rol del usuario."})]})}})})]}),Object(r.jsx)(X.a,{borderRadius:"xl",boxShadow:"xl",colorScheme:"brand",size:"lg",mt:"35px",isFullWidth:!0,isLoading:e.isSubmitting,loadingText:"Guardando",type:"submit",children:"Guardar"})]})}})})},Jt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"/users",title:"Usuarios",isCurrentPage:!1},{href:"#",title:"A\xf1adir",isCurrentPage:!0}],_t=function(){var e=Object(s.useState)(null),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),i=Object(g.a)(n,2),o=i[0],d=i[1],j=Object(l.h)().id;return Object(s.useEffect)((function(){C.users.doc(j).get().then((function(e){var t={id:e.id,createDate:se()(e.data().createDate.toDate()).format("yyyy-MM-DD"),name:e.data().name,hours:e.data().hours,role:e.data().role};c(t),d(!1)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[j]),Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Actualizar usuario"}),Object(r.jsx)(nt,{breadcrumbs:Jt}),Object(r.jsx)(T.a,{w:"full",children:!o&&Object(r.jsx)(Xt,{initialValues:a})})]})})},Zt=a(415),Kt=a(416),$t=a(417);se.a.locale("es");var Qt=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"#",title:"Horas",isCurrentPage:!0}],ea=function(){var e=Object(s.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)(!1),o=Object(g.a)(i,2),d=o[0],l=o[1],j=Object(s.useState)(!1),b=Object(g.a)(j,2),u=b[0],h=b[1],x=Object(s.useState)(),O=Object(g.a)(x,2),p=O[0],m=O[1],f=Object(s.useState)(),v=Object(g.a)(f,2),y=v[0],D=v[1],S=Object(s.useState)([]),w=Object(g.a)(S,2),E=w[0],I=w[1],N=n.a.useRef(),A=n.a.useRef(),z=n.a.useRef(),F=Object(Ce.a)(),L=E?tt()(E,{state:"validado"}):[];Object(s.useEffect)((function(){return C.hours.where("date",">=",se()().startOf("month").toDate()).where("date","<=",se()().endOf("month").toDate()).orderBy("date","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return{id:e.id,userId:e.data().userId,userName:e.data().userName,projectId:e.data().projectId,projectName:e.data().projectName,state:e.data().state,hours:e.data().hours?e.data().hours:"",type:e.data().type?e.data().type:"",date:se()(e.data().date.toDate()).format("L H:mm:ss"),dateEnd:e.data().dateEnd?se()(e.data().dateEnd.toDate()).format("L H:mm:ss"):"",contractHours:e.data().contractHours,latitude:e.data().locationStart?e.data().locationStart.latitude:"",longitude:e.data().locationStart?e.data().locationStart.longitude:"",latitudeEnd:e.data().locationEnd?e.data().locationEnd.latitude:"",longitudeEnd:e.data().locationEnd?e.data().locationEnd.longitude:""}}));I(t)}))}),[]);var H=n.a.useMemo((function(){return[{Header:"Tecnico",accessor:"userName"},{Header:"Campa\xf1a",accessor:"projectName"},{Header:"Reg.Inicio",accessor:"date"},{Header:"Ubi.Inicio",accessor:"map",Cell:function(e){var t=e.cell;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(W.a,{href:"https://www.google.com/maps/place/".concat(t.row.original.latitude,",").concat(t.row.original.longitude),isExternal:!0,children:Object(r.jsx)(Zt.a,{mx:"2px"})})})}},{Header:"Reg.Final",accessor:"dateEnd"},{Header:"Ubi.Final",accessor:"mapFinal",Cell:function(e){var t=e.cell;return Object(r.jsx)(r.Fragment,{children:""!==t.row.original.latitudeEnd?Object(r.jsx)(W.a,{href:"https://www.google.com/maps/place/".concat(t.row.original.latitudeEnd,",").concat(t.row.original.longitudeEnd),isExternal:!0,children:Object(r.jsx)(Zt.a,{mx:"2px"})}):null})}},{Header:"Horas",accessor:"hours",isNumeric:!0},{Header:"Tipo",accessor:"type"},{Header:"Validaciones",accessor:"state",Cell:function(e){var t=e.value;return Object(r.jsx)(r.Fragment,{children:"validado"===t?"S\xed":"No"})}},{Header:"Acciones",accessor:"acciones",Cell:function(e){var t=e.cell;return Object(r.jsxs)(r.Fragment,{children:["sin validar"===t.row.original.state&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_.a,{colorScheme:"brand","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(Kt.a,{}),onClick:function(){return P(t.row.original,"validade")}}),Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"sm",mr:"16px",icon:Object(r.jsx)($t.a,{}),onClick:function(){return P(t.row.original,"invalidade")}})]}),"validado"===t.row.original.state&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_.a,{colorScheme:"brand","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(Kt.a,{}),onClick:function(){return P(t.row.original,"validade")},isDisabled:!0}),Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"sm",mr:"16px",icon:Object(r.jsx)($t.a,{}),onClick:function(){return P(t.row.original,"invalidade")}})]}),"denegado"===t.row.original.state&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_.a,{colorScheme:"brand","aria-label":"Search database",size:"sm",mr:"4px",icon:Object(r.jsx)(Kt.a,{}),onClick:function(){return P(t.row.original,"validade")}}),Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"sm",mr:"16px",icon:Object(r.jsx)($t.a,{}),onClick:function(){return P(t.row.original,"invalidade")},isDisabled:!0})]}),Object(r.jsx)(_.a,{colorScheme:"red","aria-label":"Search database",size:"sm",icon:Object(r.jsx)(Ae.a,{}),onClick:function(){return P(t.row.original,"delete")}})]})},style:{whiteSpace:"nowrap"}}]}),[]),P=function(e,t){m(e.id),"delete"===t?c(!0):"validade"===t?(D(e),l(!0)):h(!0)},k=function(e){"delete"===e?c(!1):"validade"===e?l(!1):h(!1)};return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Horas"}),Object(r.jsx)(nt,{breadcrumbs:Qt}),Object(r.jsxs)(Je.a,{minChildWidth:"220px",spacing:"15px",mb:"30px",children:[Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total horas validadas"}),Object(r.jsx)(_e.d,{children:"".concat(E?kt()(L,"hours"):null,"h")}),Object(r.jsx)(_e.b,{children:"\xdaltimo mes"})]})}),Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total imputaciones"}),Object(r.jsx)(_e.d,{children:E?E.length:null}),Object(r.jsx)(_e.b,{children:"\xdaltimo mes"})]})})]}),Object(r.jsx)(gt,{data:E,columns:H,overflow:!0}),Object(r.jsx)(Re,{isOpen:a,cancelRef:N,onClose:function(){return k("delete")},onSubmit:function(){p&&C.hours.doc(p).delete().then((function(){F({position:"top",title:"Horas eliminadas.",description:"Horas eliminadas correctamente!",status:"success",duration:3e3,isClosable:!0}),c(!1)})).catch((function(e){F({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido eliminar las horas.",status:"error",duration:3e3,isClosable:!0}),c(!1)}))},header:"Eliminar horas",body:"\xbfEst\xe1s seguro? No puede deshacer esta acci\xf3n despu\xe9s.",type:"delete"}),Object(r.jsx)(Re,{isOpen:d,cancelRef:A,onClose:function(){return k("validade")},onSubmit:function(){p&&C.hours.doc(p).update({state:"validado"}).then((function(){F({position:"top",title:"Horas validadas.",description:"Las horas han sido validadas correctamente!",status:"success",duration:3e3,isClosable:!0}),l(!1),function(e){var t=tt()(E,{userId:e.userId,state:"validado"}),a=kt()(t,"hours")+e.hours;a>1.2*e.contractHours&&C.notices.add({userId:e.userId,userName:e.userName,hours:a,date:se()().toDate(),contractHours:e.contractHours}).then((function(e){F({position:"top",title:"Exceso de horas.",description:"Se ha notificado un exceso de horas!",status:"warning",duration:3e3,isClosable:!0})})).catch((function(e){console.log(e)}))}(y)})).catch((function(e){F({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido validar las horas.",status:"error",duration:3e3,isClosable:!0}),l(!1)}))},header:"Validar horas",body:"\xbfEst\xe1s seguro que quieres validar las horas realizas?",type:"valide"}),Object(r.jsx)(Re,{isOpen:u,cancelRef:z,onClose:function(){return k("invalidade")},onSubmit:function(){p&&C.hours.doc(p).update({state:"denegado"}).then((function(){F({position:"top",title:"Horas denegadas.",description:"Las horas han sido denegadas correctamente!",status:"success",duration:3e3,isClosable:!0}),h(!1)})).catch((function(e){F({position:"top",title:"Ocurri\xf3 un error.",description:"No se ha podido denegar las horas.",status:"error",duration:3e3,isClosable:!0}),h(!1)}))},header:"Denegar horas",body:"\xbfEst\xe1s seguro que quieres denegar las horas realizas?",type:"invalide"})]})})};se.a.locale("es");var ta=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"#",title:"Campa\xf1as",isCurrentPage:!0}],aa=function(){var e=Object(s.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),i=Object(g.a)(n,2),o=i[0],d=i[1];return Object(s.useEffect)((function(){C.projects.orderBy("startDate","desc").get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,startDate:e.data().startDate,endDate:e.data().endDate,description:e.data().description,name:e.data().name,users:e.data().users}}));c(t),d(!1)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Campa\xf1as"}),Object(r.jsx)(nt,{breadcrumbs:ta}),o?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o})]}),Object(r.jsxs)(T.a,{borderRadius:"xl",mb:4,p:4,cursor:"pointer",borderWidth:"1px",children:[Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o}),Object(r.jsx)(De.a,{mt:"4",noOfLines:1,spacing:"4",isLoaded:!o})]})]}):a.map((function(e,t){return Object(r.jsx)(Ke,{state:se()().toDate()>=se()(e.startDate.toDate())&&se()().toDate()<=se()(e.endDate.toDate())?"En activo":"Finalizado",name:e.name,description:e.description,startDate:se()(e.startDate.toDate()).format("L"),endDate:se()(e.endDate.toDate()).format("L"),link:"/infoStats",id:e.id},t)}))]})})},ra=a(90),ca=a.n(ra);se.a.locale("es");var sa=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"/stats",title:"Campa\xf1as",isCurrentPage:!1},{href:"#",title:"Estad\xedsticas",isCurrentPage:!0}],na=function(){var e=Object(s.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),i=Object(g.a)(n,2),o=i[0],d=i[1],j=Object(l.h)().id;Object(s.useEffect)((function(){C.hours.where("projectId","==",j).where("state","==","validado").get().then((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));c(t),d(!1)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[j]);var b=tt()(a,(function(e){var t=se()(e.date.toDate()),a=se()();return t.month()===a.month()&&t.date()===a.date()}));return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Estad\xedsticas"}),Object(r.jsx)(nt,{breadcrumbs:sa}),Object(r.jsxs)(Je.a,{minChildWidth:"220px",spacing:"15px",mb:"30px",children:[Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total campa\xf1a"}),Object(r.jsx)(_e.d,{children:a?"".concat(kt()(a,"hours"),"h"):"0h"}),Object(r.jsx)(_e.b,{children:"horas validadas"})]})}),Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Hoy"}),Object(r.jsx)(_e.d,{children:b?"".concat(kt()(b,"hours"),"h"):"0h"}),Object(r.jsx)(_e.b,{children:"horas validadas"})]})})]}),Object(r.jsx)(R.a,{as:"h5",size:"md",textAlign:"left",mt:"35px",children:"T\xe9cnicos"}),Object(r.jsx)(T.a,{mt:"35px",children:o?Object(r.jsx)(ke.a,{bg:"white",h:"200px",color:"white",children:Object(r.jsx)(Me.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"brand.500",size:"xl"})}):Object.entries(ca()(a,"userName")).map((function(e,t){var a=Object(g.a)(e,2),c=a[0],s=a[1];return Object(r.jsxs)(Je.a,{minChildWidth:"120px",spacingY:"20px",borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:[Object(r.jsx)(T.a,{mr:"35px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Nombre tecnico"}),Object(r.jsx)(_e.d,{children:c})]})}),Object(r.jsx)(T.a,{mr:"35px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Horas validadas"}),Object(r.jsx)(_e.d,{children:"".concat(kt()(s,"hours"),"h")})]})}),Object(r.jsx)(G.a,{flexDirection:"row",alignItems:"center",children:Object.entries(ca()(s,"type")).map((function(e,t){var a=Object(g.a)(e,2),c=a[0],s=a[1];return Object(r.jsx)(T.a,{mr:"35px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:c}),Object(r.jsx)(_e.d,{children:"".concat(kt()(s,"hours"),"h")})]})},t)}))})]},t)}))})]})})};se.a.locale("es");var ia=[{href:"/home",title:"Home",isCurrentPage:!1},{href:"/users",title:"Usuarios",isCurrentPage:!1},{href:"#",title:"Estad\xedsticas",isCurrentPage:!0}],oa=function(){var e=Object(s.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),i=Object(g.a)(n,2),o=i[0],d=i[1],j=Object(l.h)().id;Object(s.useEffect)((function(){C.hours.where("userId","==",j).where("state","==","validado").where("date",">=",se()().startOf("month").toDate()).where("date","<=",se()().endOf("month").toDate()).get().then((function(e){var t=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));c(t),d(!1)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[j]);var b=tt()(a,(function(e){var t=se()(e.date.toDate()),a=se()();return t.month()===a.month()&&t.date()===a.date()}));return Object(r.jsx)(Q,{justifyContent:"normal",isHeader:!0,children:Object(r.jsxs)(T.a,{w:"full",p:"0px 35px 0px 35px",children:[Object(r.jsx)(R.a,{as:"h1",size:"lg",textAlign:"left",children:"Estad\xedsticas"}),Object(r.jsx)(nt,{breadcrumbs:ia}),Object(r.jsxs)(Je.a,{minChildWidth:"220px",spacing:"15px",mb:"30px",children:[Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Total horas"}),Object(r.jsx)(_e.d,{children:a?"".concat(kt()(a,"hours"),"h"):"0h"}),Object(r.jsx)(_e.b,{children:"Horas validadas este mes"})]})}),Object(r.jsx)(T.a,{borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Hoy"}),Object(r.jsx)(_e.d,{children:b?"".concat(kt()(b,"hours"),"h"):"0h"}),Object(r.jsx)(_e.b,{children:"Horas validadas"})]})})]}),Object(r.jsx)(R.a,{as:"h5",size:"md",textAlign:"left",mt:"35px",children:"Campa\xf1as"}),Object(r.jsx)(T.a,{mt:"35px",children:o?Object(r.jsx)(ke.a,{bg:"white",h:"200px",color:"white",children:Object(r.jsx)(Me.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"brand.500",size:"xl"})}):Object.entries(ca()(a,"projectName")).map((function(e,t){var a=Object(g.a)(e,2),c=a[0],s=a[1];return Object(r.jsxs)(Je.a,{minChildWidth:"120px",spacingY:"20px",borderRadius:"xl",mb:4,p:4,borderWidth:"1px",children:[Object(r.jsx)(T.a,{mr:"35px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Nombre campa\xf1a"}),Object(r.jsx)(_e.d,{children:c})]})}),Object(r.jsx)(T.a,{mr:"35px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:"Horas validadas"}),Object(r.jsx)(_e.d,{children:"".concat(kt()(s,"hours"),"h")})]})}),Object(r.jsx)(G.a,{flexDirection:"row",alignItems:"center",children:Object.entries(ca()(s,"type")).map((function(e,t){var a=Object(g.a)(e,2),c=a[0],s=a[1];return Object(r.jsx)(T.a,{mr:"35px",children:Object(r.jsxs)(_e.a,{children:[Object(r.jsx)(_e.c,{children:c}),Object(r.jsx)(_e.d,{children:"".concat(kt()(s,"hours"),"h")})]})},t)}))})]},t)}))})]})})};var da=function(){var e=["admin"],t=["tecnico"];return Object(r.jsxs)(j.a,{theme:x,children:[Object(r.jsx)(h,{}),Object(r.jsx)(d.a,{children:Object(r.jsx)(A,{children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/login",component:ye}),Object(r.jsx)(H,{exact:!0,path:"/",roles:["admin","tecnico"],component:P}),Object(r.jsx)(H,{path:"/home",roles:e,component:ne}),Object(r.jsx)(H,{path:"/projects",roles:t,component:$e}),Object(r.jsx)(H,{path:"/projectList",roles:e,component:yt}),Object(r.jsx)(H,{path:"/addProject",roles:e,component:Ft}),Object(r.jsx)(H,{path:"/updateProject/:id",roles:e,component:Rt}),Object(r.jsx)(H,{path:"/updateUser/:id",roles:e,component:_t}),Object(r.jsx)(H,{path:"/users",roles:e,component:Tt}),Object(r.jsx)(H,{path:"/addUser",roles:e,component:Vt}),Object(r.jsx)(H,{path:"/hours/:id/:name",roles:t,component:We}),Object(r.jsx)(H,{path:"/hourList",roles:e,component:ea}),Object(r.jsx)(H,{path:"/addHours/:id/:name",roles:t,component:Ge}),Object(r.jsx)(H,{path:"/workStart/:id/:name",roles:t,component:Xe}),Object(r.jsx)(H,{path:"/stats",roles:e,component:aa}),Object(r.jsx)(H,{path:"/infoStats/:id",roles:e,component:na}),Object(r.jsx)(H,{path:"/userStats/:id",roles:e,component:oa}),Object(r.jsx)(l.b,{path:"*",children:Object(r.jsx)(l.a,{to:"/"})})]})})})]})},la=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,429)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),r(e),c(e),s(e),n(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(r.jsxs)(s.StrictMode,{children:[Object(r.jsx)(c.a,{}),Object(r.jsx)(da,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),la()}},[[353,1,2]]]);
//# sourceMappingURL=main.cd6596df.chunk.js.map